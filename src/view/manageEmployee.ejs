
<div class="background-radial-gradient overflow-hidden" style="height: 100vh">
  <div
    class="d-flex flex-column mb-3 justify-content-center align-items-center"
  >
    <div class="p-2 mt-4" style="width: 100%; max-width: 600px">
      <form action="/search" method="post" class="d-flex" role="search">
        <input
          class="form-control me-2"
          type="search"
          name="emailId"
          placeholder="Search"
          aria-label="Search"
          required
        />
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>
    </div>
    <div class="p-2" style="width: 100%; max-width: 600px">
      <% if (userDetails ) { %> <% const elements = [].concat(userDetails); %>
      <% for (const user of elements) { %>
      <!-- Your code for each user here -->
      <div class="card">
        <div class="card-header">
          <span><%=user.firstName%> <%=user.lastName%></span>
        </div>
        <div class="card-body">
          <h5 class="card-title">Employee Details</h5>
          <p class="card-text">
            <i class="fa-solid fa-envelope"></i> EmailId: <%=user.emailId%>
          </p>
          <p class="card-text">
            <i class="fa-solid fa-phone"></i> Phone Number: <%=user.phoneNo%>
          </p>
          <p class="card-text">
            <i class="fa-solid fa-user"></i> User Type: <%=user.role%>
          </p>

          <div class="d-flex justify-content-around">
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="modal"
              data-bs-target="#staticBackdrop"
            >
              Update <i class="fa-solid fa-user-pen" style="color: #ffffff"></i>
            </button>

            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="modal"
              data-bs-target="#assignRecipent"
            >
              Assign Recipient
            </button>
            <a
              href="/deleteEmployee/<%= user._id %>"
              class="btn btn-outline-danger"
              >Delete</a
            >
          </div>

          <!--Assign Recipient  Modal -->
          <div
            class="modal fade"
            id="assignRecipent"
            tabindex="-1"
            aria-labelledby="exampleModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="exampleModalLabel" >
                    Reviewer:<%=user.firstName%> <%=user.lastName%>
                  </h1>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>

                <form method="post" action="/addRecipient/<%=user._id%>">
                  <div class="modal-body">
                    <div class="mb-3">
                      <label for="Recipient" class="form-label"
                        >Recipient EmailId</label
                      >
                      <input
                        name="recipientMailId"
                        type="text"
                        class="form-control"
                        id="Recipient"
                      />
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button
                      type="button"
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                    >
                      Close
                    </button>
                    <button type="submit" class="btn btn-primary">
                      Assign Recipient
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <!--Update Employee Modal -->
          <div
            class="modal fade"
            id="staticBackdrop"
            data-bs-backdrop="static"
            data-bs-keyboard="false"
            tabindex="-1"
            aria-labelledby="staticBackdropLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="staticBackdropLabel">
                    Update Employee
                  </h1>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <form method="post" action="/updateEmployee/<%=user._id%>">
                  <div class="modal-body">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label for="firstName" class="form-label"
                            >First Name</label
                          >
                          <input
                            type="text"
                            placeholder="<%=user.firstName%>"
                            id="firstName"
                            class="form-control"
                            name="firstName"
                          />
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="mb-3">
                          <label for="lastName" class="form-label"
                            >Last Name</label
                          >
                          <input
                            type="text"
                            id="lastName"
                            placeholder="<%=user.lastName%>"
                            class="form-control"
                            name="lastName"
                          />
                        </div>
                      </div>
                    </div>
                    <div class="mb-3">
                      <label for="employeePosition" class="form-label"
                        >Phone Number</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="employeePosition"
                        placeholder="<%=user.phoneNo%>"
                      />
                    </div>
                    <div class="mb-2">
                      <label for="userType" class="form-label">User Type</label>
                      <select id="userType" class="form-select" name="role">
                        <option value="Employee">Employee</option>
                        <option value="Admin">Admin</option>
                      </select>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button
                      type="button"
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                    >
                      Close
                    </button>
                    <button type="submit" class="btn btn-primary">
                      Save changes
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      <% } %> <% } %>
    </div>
  </div>

 
</div>
